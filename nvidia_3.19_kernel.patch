--- a/usr/src/nv/nv.c	2013-11-27 22:47:09.000000000 +0000
+++ b/usr/src/nv/nv.c	2015-03-31 15:22:33.326267641 +0100
@@ -2746,7 +2746,11 @@ long nv_kern_unlocked_ioctl(
     unsigned long i_arg
 )
 {
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(3,19,0)
+    return nv_kern_ioctl(file->f_path.dentry->d_inode, file, cmd, i_arg);
+#else
     return nv_kern_ioctl(file->f_dentry->d_inode, file, cmd, i_arg);
+#endif
 }
 
 long nv_kern_compat_ioctl(
@@ -2755,7 +2759,11 @@ long nv_kern_compat_ioctl(
     unsigned long i_arg
 )
 {
+#if LINUX_VERSION_CODE >= KERNEL_VERSION(3,19,0)
+    return nv_kern_ioctl(file->f_path.dentry->d_inode, file, cmd, i_arg);
+#else
     return nv_kern_ioctl(file->f_dentry->d_inode, file, cmd, i_arg);
+#endif
 }
 
 /*
